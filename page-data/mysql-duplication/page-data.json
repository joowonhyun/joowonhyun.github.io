{"componentChunkName":"component---src-pages-contentful-post-slug-tsx","path":"/mysql-duplication/","result":{"data":{"contentfulPost":{"title":"[MySQL] 중복 확인 및 중복 제거 query","category":["mysql"],"date":"2023-12-10","slug":"mysql-duplication","thumbnail":{"url":"https://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png","gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png?w=250&h=250&q=50&fm=webp 250w,\nhttps://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png?w=500&h=500&q=50&fm=webp 500w,\nhttps://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png?w=1000&h=1000&q=50&fm=webp 1000w,\nhttps://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png?w=2000&h=2000&q=50&fm=webp 2000w","sizes":"(min-width: 1000px) 1000px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png?w=1000&h=1000&q=50&fm=png","srcSet":"https://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png?w=250&h=250&q=50&fm=png 250w,\nhttps://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png?w=500&h=500&q=50&fm=png 500w,\nhttps://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png?w=1000&h=1000&q=50&fm=png 1000w,\nhttps://images.ctfassets.net/v8jcs71vfccu/2Sspb8ost7qNNOnupguJ0J/47bb6d38e01380f98f32d7e0ed60e9b2/mysql-logo.png?w=2000&h=2000&q=50&fm=png 2000w","sizes":"(min-width: 1000px) 1000px, 100vw"}},"layout":"constrained","backgroundColor":"#080808","width":1000,"height":1000}},"description":{"description":"MySQL에서 여러 컬럼에 포함된 중복 데이터는 어떻게 확인할 수 있을까?"},"content":{"raw":"{\"nodeType\":\"document\",\"data\":{},\"content\":[{\"nodeType\":\"paragraph\",\"data\":{},\"content\":[{\"nodeType\":\"text\",\"value\":\"sql을 작성하다 보면 데이터의 중복이 보이고 꼭 이걸 제거해야하는 상황이 생긴다.\",\"marks\":[],\"data\":{}}]},{\"nodeType\":\"paragraph\",\"data\":{},\"content\":[{\"nodeType\":\"text\",\"value\":\"같은 테이블에서 중복된 데이터가 있을 경우 중복을 확인하고 제거하는 \\b쿼리를 생각보다 많이 필요로 하게 되는데, 나는 3개의 컬럼을 기준으로 중복을 확인하고 가장 최근 값만 남겨야 하는 상황이 있었다.\",\"marks\":[],\"data\":{}}]},{\"nodeType\":\"heading-3\",\"data\":{},\"content\":[{\"nodeType\":\"text\",\"value\":\"#인덱스란?\",\"marks\":[{\"type\":\"bold\"},{\"type\":\"underline\"}],\"data\":{}}]},{\"nodeType\":\"paragraph\",\"data\":{},\"content\":[{\"nodeType\":\"text\",\"value\":\"\\b데이터를 빨리 찾기 위해 특정 컬럼을 기준으로 정리해놓은 표\",\"marks\":[],\"data\":{}}]},{\"nodeType\":\"paragraph\",\"data\":{},\"content\":[{\"nodeType\":\"text\",\"value\":\"중복이 있는지 확인하는 쿼리는 간단하다. 단순히 총 카운트가 1이 넘는 지만 보면 된다.\",\"marks\":[],\"data\":{}}]},{\"nodeType\":\"heading-3\",\"data\":{},\"content\":[{\"nodeType\":\"text\",\"value\":\"### [컬럼 중복 값 삭제 query]\",\"marks\":[{\"type\":\"bold\"},{\"type\":\"underline\"}],\"data\":{}}]},{\"nodeType\":\"paragraph\",\"data\":{},\"content\":[{\"nodeType\":\"text\",\"value\":\"language::sql DELETE A FROM 테이블명 A\\nINNER JOIN (\\n  SELECT 컬럼1, 컬럼2, 컬럼3, MAX(idx) as max_id\\n  FROM 테이블명\\n  GROUP BY 컬럼1, 컬럼2, 컬럼3,\\n) 테이블명 B\\nON A.컬럼1 = B.컬럼1\\nAND A.컬럼2 = B.컬럼2\\nAND A.컬럼3 = B.컬럼3\\nAND A.idx < B.max_id;\",\"marks\":[{\"type\":\"code\"}],\"data\":{}}]},{\"nodeType\":\"blockquote\",\"data\":{},\"content\":[{\"nodeType\":\"paragraph\",\"data\":{},\"content\":[{\"nodeType\":\"text\",\"value\":\"A.idx < B.max_id 를 통해 가장 최근 값만 남길 수 있게 됨 (과거의 것은 전부 삭제)\",\"marks\":[{\"type\":\"underline\"}],\"data\":{}}]}]},{\"nodeType\":\"paragraph\",\"data\":{},\"content\":[{\"nodeType\":\"text\",\"value\":\"\",\"marks\":[],\"data\":{}}]}]}","references":[]}}},"pageContext":{"id":"bcef54bc-63f8-518c-a2d7-eacf93df89af","slug":"mysql-duplication","__params":{"slug":"mysql-duplication"}}},"staticQueryHashes":["506648845"],"slicesMap":{}}